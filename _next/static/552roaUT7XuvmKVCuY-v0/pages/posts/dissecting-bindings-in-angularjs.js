(window.webpackJsonp=window.webpackJsonp||[]).push([[134],{IoxR:function(e,a,t){"use strict";t.r(a);var l=t("q1tI"),n=t.n(l),s=t("JRaF"),c=(t("YFqc"),{url:"dissecting-bindings-in-angularjs",id:"angularjscomm",type:"post",title:"Dissecting @ < & = bindings in AngularJS",date:"2017-03-22",tags:["angularjs"],author:"david",excerpt:"Exploring how @ < & = really work in AngularJS directives/components, and realising how < rules them all",folder:"/Users/davidwaller/gitreps/mine/blog2/sources/2017-03-22_angularjscomm",hasStaticContent:!0,headlines:[{level:3,text:"The premise",id:"the-premise"},{level:3,text:"Reading an attribute as text",id:"reading-an-attribute-as-text"},{level:3,text:"Evaluating an attribute as an expression",id:"evaluating-an-attribute-as-an-expression"},{level:3,text:"Catching output",id:"catching-output"},{level:3,text:"Two-way data binding",id:"twoway-data-binding"},{level:3,text:"Leaving the symbols behind alltogether",id:"leaving-the-symbols-behind-alltogether"},{level:3,text:"Wrapping up",id:"wrapping-up"}]});a.default=function(){return n.a.createElement(s.a,{kind:"post",data:c,title:"Dissecting @ < & = bindings in AngularJS",summary:"Exploring how @ < & = really work in AngularJS directives/components, and realising how < rules them all",headlines:[{level:3,text:"The premise",id:"the-premise"},{level:3,text:"Reading an attribute as text",id:"reading-an-attribute-as-text"},{level:3,text:"Evaluating an attribute as an expression",id:"evaluating-an-attribute-as-an-expression"},{level:3,text:"Catching output",id:"catching-output"},{level:3,text:"Two-way data binding",id:"twoway-data-binding"},{level:3,text:"Leaving the symbols behind alltogether",id:"leaving-the-symbols-behind-alltogether"},{level:3,text:"Wrapping up",id:"wrapping-up"}],tags:["angularjs"]},n.a.createElement("div",{className:"post","data-postid":"angularjscomm"},n.a.createElement("h3",{id:"the-premise"},"The premise"),n.a.createElement("p",null,"In AngularJS, when we define a component (or a directive), we can create inner scope variables from attributes. The API for doing so is rather convoluted:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"bindings: {",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"attr1"),": ",n.a.createElement("span",{className:"hljs-string"},"'@'"),",",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"attr2"),": ",n.a.createElement("span",{className:"hljs-string"},"'<'"),",",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"attr3"),": ",n.a.createElement("span",{className:"hljs-string"},"'='"),",",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"attr4"),": ",n.a.createElement("span",{className:"hljs-string"},"'&'"),n.a.createElement("br",null),"}")),n.a.createElement("p",null,"I got tired of paying the price of wrapping my brain around it every time I used, so in this post we will dissect the difference between the four symbols once and for all."),n.a.createElement("p",null,"Specifically, we'll..."),n.a.createElement("ul",null,n.a.createElement("li",null,"learn how to pass strings (",n.a.createElement("code",null,"@"),")"),n.a.createElement("li",null,"learn how to pass dynamic expressions (",n.a.createElement("code",null,"<"),")"),n.a.createElement("li",null,"learn how to catch output (",n.a.createElement("code",null,"&"),")"),n.a.createElement("li",null,"learn how to set up two-way data bindings (",n.a.createElement("code",null,"="),")"),n.a.createElement("li",null,"learn how to do all of the above without using any of the four"),n.a.createElement("li",null,"learn why ",n.a.createElement("code",null,"<")," kicks the ass of the other three")),n.a.createElement("h3",{id:"reading-an-attribute-as-text"},"Reading an attribute as text"),n.a.createElement("p",null,"Let's start with ",n.a.createElement("code",null,"@"),", the most straightforward of the four as it simply reads the attribute as text. In other words we ",n.a.createElement("strong",null,"pass a string")," to the component."),n.a.createElement("p",null,"Say we have this component:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"readingstring"'),", {",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"text"),": ",n.a.createElement("span",{className:"hljs-string"},"'@'")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"'<p>text: <strong>{{$ctrl.text}}</strong></p>'"),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"And we render it like this:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"readingstring")," ",n.a.createElement("span",{className:"hljs-attr"},"text"),"=",n.a.createElement("span",{className:"hljs-string"},'"hello"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"readingstring"),">"))),n.a.createElement("p",null,"Then here is what we get:"),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#stringviaat",style:{height:50,width:"100%"}}),n.a.createElement("p",null,"Using ",n.a.createElement("code",null,"@")," creates an inner variable populated with the string content of the named attribute. You could say it serves as an ",n.a.createElement("strong",null,"initial config")," of the component."),n.a.createElement("h3",{id:"evaluating-an-attribute-as-an-expression"},"Evaluating an attribute as an expression"),n.a.createElement("p",null,"More interesting is the need to evaluate an attribute as an expression, and have it reevaluated whenever the expression changes. Dynamic input!"),n.a.createElement("p",null,"We want to be able to do this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"dynamicinput")," ",n.a.createElement("span",{className:"hljs-attr"},"in"),"=",n.a.createElement("span",{className:"hljs-string"},'"outervariable"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"dynamicinput"),">"))),n.a.createElement("p",null,"...and pass the evaluation of ",n.a.createElement("code",null,"outervariable")," into ",n.a.createElement("code",null,"dynamicinput"),"."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#inputfirst",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"Prior to AngularJS 1.5, the only syntax we had for this was ",n.a.createElement("code",null,"="),":"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"dynamicinput"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"in"),": ",n.a.createElement("span",{className:"hljs-string"},"'='")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"'<p>dynamic input: <strong>{{$ctrl.in}}</strong></p>'"),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"The downside of ",n.a.createElement("code",null,"=")," was that it created a ",n.a.createElement("strong",null,"two-way data binding"),", even though we only needed a one-way. This also meant that the expression we pass in ",n.a.createElement("strong",null,"must be a variable"),". "),n.a.createElement("p",null,"But with AngularJS 1.5 we got ",n.a.createElement("code",null,"<"),", which means ",n.a.createElement("strong",null,"one-way data binding"),". This allows us to use any expression as input, such as a function call:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"dynamicinput")," ",n.a.createElement("span",{className:"hljs-attr"},"in"),"=",n.a.createElement("span",{className:"hljs-string"},'"calculateSomething()"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"dynamicinput"),">"))),n.a.createElement("p",null,"The component implementation would be exactly the same, except changing ",n.a.createElement("code",null,"=")," for ",n.a.createElement("code",null,"<"),"."),n.a.createElement("h3",{id:"catching-output"},"Catching output"),n.a.createElement("p",null,"Time to turn things around - how do we catch output from a component? See the tiny app below - the buttons are rendered in a child, and when they are clicked we want to update the outer value accordingly."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#outputfirst",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"This is where ",n.a.createElement("code",null,"&")," comes in. It ",n.a.createElement("strong",null,"interprets the attribute as a statement")," and ",n.a.createElement("strong",null,"wraps it in a function"),". The component can then call that function at will, and populate variables in the statement. Output to the parent!"),n.a.createElement("p",null,"If our outer html looks like this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},"Outer value: {{count}}",n.a.createElement("br",null),n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"output")," ",n.a.createElement("span",{className:"hljs-attr"},"out"),"=",n.a.createElement("span",{className:"hljs-string"},'"count = count + amount"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"output"),">"))),n.a.createElement("p",null,"..then an implementation of ",n.a.createElement("code",null,"output")," using ",n.a.createElement("code",null,"&")," could look like this:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"output"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"out"),": ",n.a.createElement("span",{className:"hljs-string"},"'&'")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"`",n.a.createElement("br",null),'    <button ng-click="$ctrl.out({amount: 1})">buy one</button>',n.a.createElement("br",null),'    <button ng-click="$ctrl.out({amount: 5})">buy many</button> `'),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"Note how we pass in an object with the variables to populate.  This convoluted syntax means that in order to use a component with an output we must know two things:"),n.a.createElement("ul",null,n.a.createElement("li",null,"the attribute name(s) to use"),n.a.createElement("li",null,"the names of the variables that will magically be created.")),n.a.createElement("p",null,"Because ",n.a.createElement("code",null,"&")," is so convoluted, many use ",n.a.createElement("code",null,"=")," to do output. By passing in the variable to be manipulated..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},"Outer value: {{count}}",n.a.createElement("br",null),n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"output")," ",n.a.createElement("span",{className:"hljs-attr"},"out"),"=",n.a.createElement("span",{className:"hljs-string"},'"count"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"output"),">"))),n.a.createElement("p",null,"...we then simply change that variable inside the component:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"output"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"out"),": ",n.a.createElement("span",{className:"hljs-string"},"'='")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"`<div>",n.a.createElement("br",null),'    <button ng-click="$ctrl.out = $ctrl.out + 1;">buy one</button>',n.a.createElement("br",null),'    <button ng-click="$ctrl.out = $ctrl.out + 5;">buy many</button>',n.a.createElement("br",null),"  </div>`"),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"This really isn't very pretty though:"),n.a.createElement("ul",null,n.a.createElement("li",null,"we're again doing two-way data binding even though we only need one way"),n.a.createElement("li",null,"we might not want to save the output, but simply act on it")),n.a.createElement("p",null,"A nicer solution than all of the above is to ",n.a.createElement("strong",null,"use ",n.a.createElement("code",null,"<")," to create output")," by ",n.a.createElement("strong",null,"passing in a callback"),"!"),n.a.createElement("p",null,"We create the callback in the outer controller..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"$scope.callback = ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"},"amount"),")"),"{",n.a.createElement("br",null),"  $scope.count += amount;",n.a.createElement("br",null),"}")),n.a.createElement("p",null,"...and pass it to the component:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"output")," ",n.a.createElement("span",{className:"hljs-attr"},"out"),"=",n.a.createElement("span",{className:"hljs-string"},'"callback"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"output"),">"))),n.a.createElement("p",null,"The component now simply calls it accordingly:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"output"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"out"),": ",n.a.createElement("span",{className:"hljs-string"},"'<'")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"`",n.a.createElement("br",null),'    <button ng-click="$ctrl.out(1)">buy one</button>',n.a.createElement("br",null),'    <button ng-click="$ctrl.out(5)">buy many</button>`'),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"Very similar to ",n.a.createElement("code",null,"&"),", but without the convoluted magic!"),n.a.createElement("p",null,"As an interesting aside, this pattern is exactly how output from a component works in React."),n.a.createElement("h3",{id:"two-way-data-binding"},"Two-way data binding"),n.a.createElement("p",null,"This is where ",n.a.createElement("code",null,"=")," is usually allowed to shine as an AngularJS poster boy. Take this app:"),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#twowayeq",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"If we render it like this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},"Outer: ",n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"input")," ",n.a.createElement("span",{className:"hljs-attr"},"ng-model"),"=",n.a.createElement("span",{className:"hljs-string"},'"value"'),">"),n.a.createElement("br",null),n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"twoway")," ",n.a.createElement("span",{className:"hljs-attr"},"connection"),"=",n.a.createElement("span",{className:"hljs-string"},'"value"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"twoway"),">"))),n.a.createElement("p",null,"...then we can implement ",n.a.createElement("code",null,"twoway")," using ",n.a.createElement("code",null,"=")," like this:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"twowayeq"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"bindings"),": { ",n.a.createElement("span",{className:"hljs-attr"},"connection"),": ",n.a.createElement("span",{className:"hljs-string"},"'='")," },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},'`inner: <input ng-model="$ctrl.connection">`'),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"Admittedly easy, but note - it is rather rare to need two-way data binding. Often what you actually want is an input and an output."),n.a.createElement("p",null,"Which brings us to how we can implement two-way binding using only ",n.a.createElement("code",null,"<"),"! If we again create a callback function in the outer controller..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"$scope.callback = ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"},"newval"),")"),"{",n.a.createElement("br",null),"  $scope.value = newval;",n.a.createElement("br",null),"}")),n.a.createElement("p",null,"...and pass in both the value and the callback..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"twoway")," ",n.a.createElement("span",{className:"hljs-attr"},"value"),"=",n.a.createElement("span",{className:"hljs-string"},'"value"')," ",n.a.createElement("span",{className:"hljs-attr"},"callback"),"=",n.a.createElement("span",{className:"hljs-string"},'"callback"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"twoway"),">"))),n.a.createElement("p",null,"...then the component can be created thusly:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"twowayin"'),",{",n.a.createElement("br",null),"  bindings: {",n.a.createElement("br",null),"    value: ",n.a.createElement("span",{className:"hljs-string"},"'<'"),",",n.a.createElement("br",null),"    callback: ",n.a.createElement("span",{className:"hljs-string"},"'<'"),n.a.createElement("br",null),"  },",n.a.createElement("br",null),"  template: `",n.a.createElement("br",null),"     <input ",n.a.createElement("span",{className:"hljs-attribute"},"ng-model"),"=",n.a.createElement("span",{className:"hljs-string"},'"',n.a.createElement("span",{className:"hljs-variable"},"$ctrl"),'.value"')," ",n.a.createElement("span",{className:"hljs-attribute"},"ng-change"),"=",n.a.createElement("span",{className:"hljs-string"},'"',n.a.createElement("span",{className:"hljs-variable"},"$ctrl"),".callback(",n.a.createElement("span",{className:"hljs-variable"},"$ctrl"),'.value)"'),">",n.a.createElement("br",null),"  `",n.a.createElement("br",null),"});")),n.a.createElement("p",null,"We have achieved two-way data binding, but we're still adhering to a ",n.a.createElement("strong",null,"uni-directional data flow"),". Better karma!"),n.a.createElement("h3",{id:"leaving-the-symbols-behind-alltogether"},"Leaving the symbols behind alltogether"),n.a.createElement("p",null,"Fact is, the four symbols are just shortcuts. We can do all that they do without them."),n.a.createElement("p",null,"The ",n.a.createElement("strong",null,"string passing app"),"..."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#stringviaat",style:{height:50,width:"100%"}}),n.a.createElement("p",null,"...that we rendered like this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"readingstring")," ",n.a.createElement("span",{className:"hljs-attr"},"text"),"=",n.a.createElement("span",{className:"hljs-string"},'"hello"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"readingstring"),">"))),n.a.createElement("p",null,"...could be implemented by accessing the ",n.a.createElement("code",null,"$element")," service:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"readingstring"'),", {",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"controller"),": ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"},"$element"),")"),"{",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-built_in"},"this"),".text = $element.attr(",n.a.createElement("span",{className:"hljs-string"},'"text"'),");",n.a.createElement("br",null),"  },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"'<p>text: <strong>{{$ctrl.text}}</strong></p>'"),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"Or with a directive, by using the ",n.a.createElement("code",null,"attrs")," that are passed to ",n.a.createElement("code",null,"link"),":"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.directive(",n.a.createElement("span",{className:"hljs-string"},'"readingstring"'),", ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"}),")"),"{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-keyword"},"return")," {",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-attr"},"restrict"),": ",n.a.createElement("span",{className:"hljs-string"},"'E'"),",",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-attr"},"scope"),": {},",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-attr"},"link"),": ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"},"scope,elem,attrs"),")"),"{",n.a.createElement("br",null),"      scope.text = attrs.text;",n.a.createElement("br",null),"    },",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"'<p>text: <strong>{{text}}</strong></p>'"),n.a.createElement("br",null),"  };",n.a.createElement("br",null),"});")),n.a.createElement("p",null,"The ",n.a.createElement("strong",null,"dynamic input")," app..."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#inputfirst",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"...rendered like this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"dynamicinput")," ",n.a.createElement("span",{className:"hljs-attr"},"in"),"=",n.a.createElement("span",{className:"hljs-string"},'"outervariable"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"dynamicinput"),">"))),n.a.createElement("p",null,"...could be implemented by using a ",n.a.createElement("code",null,".$watch")," call in the parent scope:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"dynamicinput"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"controller"),": ",n.a.createElement("span",{className:"hljs-function"},"(",n.a.createElement("span",{className:"hljs-params"},"$scope,$element"),") =>")," {",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-keyword"},"let")," expression = $element.attr(",n.a.createElement("span",{className:"hljs-string"},'"in"'),");",n.a.createElement("br",null),"    $scope.$parent.$watch(expression, ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-params"},"newVal")," =>")," $scope.in = newVal);",n.a.createElement("br",null),"  },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"'<p>dynamic input: <strong>{{in}}</strong></p>'"),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"The ",n.a.createElement("strong",null,"output app"),"..."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#outputfirst",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"...rendered like this..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"output")," ",n.a.createElement("span",{className:"hljs-attr"},"out"),"=",n.a.createElement("span",{className:"hljs-string"},'"count = count + amount"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"output"),">"))),n.a.createElement("p",null,"...could be implemented by calling ",n.a.createElement("code",null,"$scope.$apply")," in the parent scope:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"output"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"controller"),": ",n.a.createElement("span",{className:"hljs-function"},"(",n.a.createElement("span",{className:"hljs-params"},"$scope,$element,$timeout"),") =>")," {",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-keyword"},"let")," statement = $element.attr(",n.a.createElement("span",{className:"hljs-string"},'"out"'),");",n.a.createElement("br",null),"    $scope.increaseBy = ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-params"},"by")," =>")," {",n.a.createElement("br",null),"      $timeout(",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-keyword"},"function"),"(",n.a.createElement("span",{className:"hljs-params"}),")"),"{",n.a.createElement("br",null),"        $scope.$parent.$apply(",n.a.createElement("span",{className:"hljs-string"},"`amount = ",n.a.createElement("span",{className:"hljs-subst"},"${by}"),"; ",n.a.createElement("span",{className:"hljs-subst"},"${statement}"),"`"),");",n.a.createElement("br",null),"      });",n.a.createElement("br",null),"    }",n.a.createElement("br",null),"  },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},"`",n.a.createElement("br",null),'    <button ng-click="increaseBy(1)">buy one</button>',n.a.createElement("br",null),'    <button ng-click="increaseBy(5)">buy many</button>`'),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"This isn't exactly the same thing as ",n.a.createElement("code",null,"&")," since we have now also polluted the parent scope with an ",n.a.createElement("code",null,"amount")," variable, but still, it shows the concept well enough."),n.a.createElement("p",null,"Finally the ",n.a.createElement("strong",null,"two-way")," app..."),n.a.createElement("iframe",{src:"/static/posts/dissecting-bindings-in-angularjs/applets/angularcomm/index.html#twowayeq",style:{height:90,width:"100%"}}),n.a.createElement("p",null,"...rendered like with ",n.a.createElement("code",null,"="),"..."),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-html"},n.a.createElement("span",{className:"hljs-tag"},"<",n.a.createElement("span",{className:"hljs-name"},"twoway")," ",n.a.createElement("span",{className:"hljs-attr"},"connection"),"=",n.a.createElement("span",{className:"hljs-string"},'"value"'),">"),n.a.createElement("span",{className:"hljs-tag"},"</",n.a.createElement("span",{className:"hljs-name"},"twoway"),">"))),n.a.createElement("p",null,"...could be implemented by setting a ",n.a.createElement("code",null,"$watch")," in both parent and child scope:"),n.a.createElement("pre",null,n.a.createElement("code",{className:"hljs language-javascript"},"app.component(",n.a.createElement("span",{className:"hljs-string"},'"twoway"'),",{",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"controller"),": ",n.a.createElement("span",{className:"hljs-function"},"(",n.a.createElement("span",{className:"hljs-params"},"$scope,$element,$timeout"),") =>")," {",n.a.createElement("br",null),"    ",n.a.createElement("span",{className:"hljs-keyword"},"let")," variable = $element.attr(",n.a.createElement("span",{className:"hljs-string"},'"connection"'),");",n.a.createElement("br",null),"    $scope.$parent.$watch(variable, ",n.a.createElement("span",{className:"hljs-function"},n.a.createElement("span",{className:"hljs-params"},"newVal")," =>")," $scope.inner = newVal;",n.a.createElement("br",null),"    $scope.$watch(",n.a.createElement("span",{className:"hljs-string"},"'inner'"),", ",n.a.createElement("span",{className:"hljs-function"},"(",n.a.createElement("span",{className:"hljs-params"},"newVal=",n.a.createElement("span",{className:"hljs-string"},"''")),") =>")," $timeout( ",n.a.createElement("span",{className:"hljs-function"},"() =>")," {",n.a.createElement("br",null),"      $scope.$parent.$apply(",n.a.createElement("span",{className:"hljs-string"},"`",n.a.createElement("span",{className:"hljs-subst"},"${variable}"),' = "',n.a.createElement("span",{className:"hljs-subst"},"${newVal}"),'";`'),");",n.a.createElement("br",null),"    }));",n.a.createElement("br",null),"  },",n.a.createElement("br",null),"  ",n.a.createElement("span",{className:"hljs-attr"},"template"),": ",n.a.createElement("span",{className:"hljs-string"},'`inner: <input ng-model="inner">`'),n.a.createElement("br",null),"});")),n.a.createElement("p",null,"This is slight cheating since we're now assuming the bound value to always be a string, but, the gist is still there!"),n.a.createElement("h3",{id:"wrapping-up"},"Wrapping up"),n.a.createElement("p",null,"We hope this journey has been educational, and that ",n.a.createElement("code",null,"@"),", ",n.a.createElement("code",null,"<"),", ",n.a.createElement("code",null,"=")," and ",n.a.createElement("code",null,"&")," now feel less intimidating."),n.a.createElement("p",null,"And that you noticed how ",n.a.createElement("code",null,"<")," kicks the ass of the rest! It can do everything, which also ",n.a.createElement("code",null,"=")," can, but ",n.a.createElement("code",null,"<")," looks much better doing it."),n.a.createElement("img",{src:"/static/posts/dissecting-bindings-in-angularjs/img/angularjschart.png",style:{marginLeft:"2em",maxWidth:400}}),n.a.createElement("p",null,"Both are somewhat clumsy for reading strings (",n.a.createElement("code",null,"<")," requires a string in a string, and ",n.a.createElement("code",null,"=")," needs a proxy variable), but that's easy enough to do vanilla so ",n.a.createElement("code",null,"@")," shouldn't get too cocky."),n.a.createElement("p",null,"Also, ",n.a.createElement("code",null,"&")," can go rotate on a stick.")),n.a.createElement("hr",null))}},cs1n:function(e,a,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/dissecting-bindings-in-angularjs",function(){var e=t("IoxR");return{page:e.default||e}}])}},[["cs1n",1,0]]]);