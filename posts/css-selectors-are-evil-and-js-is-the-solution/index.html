<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/static/styles/nprogress.css"/><link rel="stylesheet" href="/static/styles/code.css"/><link rel="stylesheet" href="/static/styles/site.css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Lexend+Zetta&amp;display=swap" rel="stylesheet"/><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-11433118-1', 'auto');
  ga("send", "pageview");</script><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title>CSS selectors are evil and JS is the solution</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/posts/css-selectors-are-evil-and-js-is-the-solution.js" as="script"/><link rel="preload" href="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.ebbfd942159f83091516.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-c1620565ee9f1f33603c.js" as="script"/></head><body><div id="__next"><div style="margin-bottom:20px"></div><div class="master"><h1><a href="/"><span>k</span><span>r</span><span>a</span><span>w</span><span>a</span><span>l</span><span>l</span><span>e</span><span>r</span></a></h1><hr/><div class="summary">A pragmatic demonstration of the drawbacks with CSS selectors, and how inline styles through JS solves these problems</div><hr/><h2>CSS selectors are evil and JS is the solution</h2><p class="taglist">Tags:<!-- --> <a href="/tags/css/">css</a><a href="/tags/cssinjs/">cssinjs</a><a href="/tags/bem/">bem</a><a href="/tags/react/">react</a></p><div class="page-content"><div class="post" data-postid="cssinjs1"><h3 id="the-premise">The premise</h3><p>In this blog post we&#x27;ll demonstrate...</p><ul><li>why CSS inherently doesn&#x27;t scale</li><li>how BEM is a partial solution</li><li>how inline styles through JS is a (nearly) full solution</li></ul><p>Towards the end we&#x27;ll use React as a vehicle for our example, but the concepts apply equally well to Angular or any other modern JS framework. We won&#x27;t use any &quot;CSSinJS library&quot;.</p><p>A small caveat: according to many, what we&#x27;re describing in this post isn&#x27;t strictly CSSinJS, but inline styles via JS. However at this stage the distinction doesn&#x27;t matter much, so if you came here because you&#x27;re curious about CSSinJS, by all means read on!</p><h3 id="our-example">Our example</h3><p>Imagine we have a complex webapp with lots of styling. We now want to add a new UI concept; an <strong>explanation box</strong>, meant to be shown inside a bigger context to explain some related concept.</p><p>Here&#x27;s what it should look like:</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/img/cssinjsbox.png" alt=""/></p><p>Disregarding styling, here&#x27;s the markup:</p><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Did you know?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>We want to apply these styles to the <strong>explanation box</strong> <code>div</code>:</p><pre><code class="hljs language-css"><span class="hljs-selector-tag">border-radius</span>: 15<span class="hljs-selector-tag">px</span>;<br/><span class="hljs-selector-tag">padding</span>: 10<span class="hljs-selector-tag">px</span>;<br/><span class="hljs-selector-tag">border</span>: 2<span class="hljs-selector-tag">px</span> <span class="hljs-selector-tag">solid</span> <span class="hljs-selector-tag">springgreen</span>;<br/><span class="hljs-selector-tag">background-color</span>: <span class="hljs-selector-tag">moccasin</span>;<br/><span class="hljs-selector-tag">color</span>: <span class="hljs-selector-tag">magenta</span>;</code></pre><p>And inside the box we want these styles for the <strong>explanation headline</strong> <code>h2</code>:</p><pre><code class="hljs language-css"><span class="hljs-selector-tag">font-weight</span>: <span class="hljs-selector-tag">normal</span>;<br/><span class="hljs-selector-tag">letter-spacing</span>: 5<span class="hljs-selector-tag">px</span>;<br/><span class="hljs-selector-tag">padding-left</span>: 15<span class="hljs-selector-tag">px</span>;<br/><span class="hljs-selector-tag">font-style</span>: <span class="hljs-selector-tag">italic</span>;<br/><span class="hljs-selector-tag">font-size</span>: 14<span class="hljs-selector-tag">px</span>;</code></pre><p>As an added spice, also imagine these styles being applied to <strong>every <code>h2</code></strong> in our app:</p><pre><code class="hljs language-css"><span class="hljs-selector-tag">font-family</span>: <span class="hljs-selector-tag">Verdana</span>;<br/><span class="hljs-selector-tag">font-size</span>: 16<span class="hljs-selector-tag">px</span>;</code></pre><p>Now let&#x27;s start exploring how to add these styles to our markup!</p><h3 id="take-0---inline-styles">Take 0 - inline styles</h3><p>The most primitive solution is to simply shove all needed style rules into the <code>style</code> prop of every explanation box:</p><pre><code class="hljs language-html">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;border-radius: 15px; padding: 10px; border: 2px solid springgreen; background-color: moccasin; color: magenta;&quot;</span>&gt;</span><br/>    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;font-family: Verdana; font-size: 14px; font-weight: normal; letter-spacing: 5px; padding-left: 15px; font-style: italic;&quot;</span>&gt;</span>Did you know?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br/>  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>This is of course a horrible solution since</p><ul><li>the HTML becomes super-bloated and unreadable</li><li>the styles can&#x27;t be reused</li><li>we&#x27;d be repeating &quot;theme rules&quot; (like the <code>moccasin</code> background color) all over the place</li></ul><h3 id="take-1---stylesheet-with-selectors">Take 1 - stylesheet with selectors</h3><p>To counter the above we always put our styles in a separate CSS file, using <strong>selectors</strong> to direct <strong>where they are applied</strong>.</p><p>In order to be able to target explanation boxes we can <strong>introduce a class name</strong> to the markup:</p><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;explanationBox&quot;</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Did you know?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>In a separate CSS file we can now <strong>apply the box styles</strong> like this:</p><pre><code class="hljs language-css"><span class="hljs-selector-class">.explanationBox</span> {<br/>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span>;<br/>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br/>  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid springgreen;<br/>  <span class="hljs-attribute">background-color</span>: moccasin;<br/>  <span class="hljs-attribute">color</span>: magenta;<br/>}</code></pre><p>We style the <strong>explanation headline</strong> by using a <strong>child combinator</strong> in the selector:</p><pre><code class="hljs language-css"><span class="hljs-selector-class">.explanationBox</span> &gt; <span class="hljs-selector-tag">h2</span> {<br/>  <span class="hljs-attribute">font-weight</span>: normal;<br/>  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">5px</span>;<br/>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;<br/>  <span class="hljs-attribute">font-style</span>: italic;<br/>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br/>}</code></pre><p>The <strong>generic <code>h2</code> styles</strong> would get their own selector:</p><pre><code class="hljs language-css"><span class="hljs-selector-tag">h2</span> {<br/>  <span class="hljs-attribute">font-family</span>: Verdana;<br/>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">16px</span>;<br/>}</code></pre><p>Note that both of these later selectors will have an opinion about the <code>font-size</code> of our explanation headline, but since <code>.explanationBox &gt; h2</code> is more specific than <code>h2</code>, the former will win.</p><h3 id="unanswerable-question-1---the-unknown-killer-problem">Unanswerable question 1 - the unknown killer problem</h3><p>With our styles in a CSS file, we now have the following situation:</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/diagrams/cssinjs-selector.svg" alt=""/></p><p>The rule blobs are connected with their respective target elements via <strong>selectors</strong>. While they work fine for our simple example, they <strong>don&#x27;t scale well</strong>. As the app grows it is very easy to end up in a messy situation where we are scared to change both HTML and CSS, in fear of some selector somewhere breaking.</p><p>Even in our small example the main reasons for the unscalability are easy to demonstrate.</p><p>Look again at our HTML...</p><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;explanationBox&quot;</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>Did you know?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>...and ponder this simple question with regards to the <code>div</code>:</p><blockquote><p><em>What styles are applied to this element?</em></p></blockquote><p>We have no easy way of knowing! The elements are being shot at by CSS selectors somewhere out there in the dark. From this side we have no idea whether any of them are targetting this specific element.</p><p>It is <em>likely</em> that there is a selector targetting the <code>.explanationBox</code> class in a selector somewhere. But because CSS selectors are global we&#x27;d have to <em>search <strong>all</strong> CSS</em> in order to know.</p><p>And consider asking the same question about the <code>h2</code> - it doesn&#x27;t have a class, which might imply it is not in the crosshairs, but it is in fact targeted by <em>two</em> selectors; <code>h2</code> and <code>.explanationBox &gt; h2</code>.</p><p>Just by looking at the HTML we <strong>cannot know what styles, if any, are applied to an element</strong>.</p><h3 id="unanswerable-question-2---the-unknown-victim-problem">Unanswerable question 2 - the unknown victim problem</h3><p>We find the reverse of the same problem in the CSS file. Look for example at this part:</p><pre><code class="hljs language-css"><span class="hljs-selector-class">.explanationBox</span> &gt; <span class="hljs-selector-tag">h2</span> {<br/>  <span class="hljs-attribute">font-weight</span>: normal;<br/>  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">5px</span>;<br/>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;<br/>  <span class="hljs-attribute">font-style</span>: italic;<br/>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br/>}</code></pre><p>Now imagine trying to answer this question:</p><blockquote><p><em>To which elements are these styles applied?</em></p></blockquote><p>This is impossible to know. We&#x27;d have to search through all our HTML files, or templates in case of a dynamic app. And in a dynamic setting the <code>.explanationBox</code> element and the contained <code>h2</code> might live in completely different places, making it even harder to figure out the answer.</p><p>This makes editing a CSS file really scary. Can we remove this part? If the question above was easy to answer then we could know whether it is safe to remove a certain part, but now we cannot!</p><h3 id="take-2---using-the-bem-naming-convention">Take 2 - using the BEM naming convention</h3><p>There has been many attempts to mitigate the mess caused by the inability to answer these two questions. One such attempt is the <a href="https://en.bem.info/">BEM naming convention</a>, which basically boils down to...</p><ul><li>have selectors consist of a single class always</li><li>name the classes according to a strict convention</li></ul><p>For our example, the explanation box would be a <strong>Block</strong>, while the <code>h2</code> inside of that would be an <strong>Element</strong> of that block. This is the <code>B</code> and <code>E</code> of <code>BEM</code> (the <code>M</code> stands for modifier but we don&#x27;t need that here).</p><p>Using BEM logic our markup would become:</p><pre><code class="hljs language-html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;explanationBox&quot;</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;explanationBox__headline&quot;</span>&gt;</span>Did you know?<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span><br/><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre><p>The CSS would now be:</p><pre><code class="hljs language-css"><span class="hljs-selector-tag">h2</span> {<br/>  <span class="hljs-attribute">font-family</span>: Verdana;<br/>  <span class="hljs-attribute">font-size</span>: <span class="hljs-number">14px</span>;<br/>}<br/><br/><span class="hljs-selector-class">.explanationBox</span> {<br/>  <span class="hljs-attribute">border-radius</span>: <span class="hljs-number">15px</span>;<br/>  <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;<br/>  <span class="hljs-attribute">border</span>: <span class="hljs-number">2px</span> solid springgreen;<br/>  <span class="hljs-attribute">background-color</span>: moccasin;<br/>  <span class="hljs-attribute">color</span>: magenta;<br/>}<br/><br/><span class="hljs-selector-class">.explanationBox__headline</span> {<br/>  <span class="hljs-attribute">font-weight</span>: normal;<br/>  <span class="hljs-attribute">letter-spacing</span>: <span class="hljs-number">5px</span>;<br/>  <span class="hljs-attribute">padding-left</span>: <span class="hljs-number">15px</span>;<br/>  <span class="hljs-attribute">font-style</span>: italic;<br/>}</code></pre><p>It is now slightly more clear what styles are applied where. Both the earlier questions are easier to answer, since we can do a search for the more precise class names.</p><p>But we still have the problem of the generic <code>h2</code> selector. Also class names might be dynamically created and/or added to an element, so again, in a dynamic setting it might still be hard to find out exactly what&#x27;s going on.</p><h3 id="take-3---inline-styles-in-a-react-component">Take 3 - inline styles in a React component</h3><p>The basic idea in BEM, as well as in OOCSS or any of the other attempts at bringing structure to CSS, is to think in terms of <strong>components</strong>. All style definitions, as far as possible, should be tied to a certain component.</p><p>This jives very well with modern JS frameworks, who (almost) all have a component-centric architecture. If components are our main abstraction, then it is very easy to make an API to style individual components.</p><p>React (and most of the competition) does this by letting us provide a CSS-like JS object to the <code>style</code> prop:</p><pre><code class="hljs language-jsx"><span class="hljs-keyword">const</span> box = {<br/>  <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">&quot;15px&quot;</span>,<br/>  <span class="hljs-attr">padding</span>: <span class="hljs-string">&quot;10px&quot;</span>,<br/>  <span class="hljs-attr">border</span>: <span class="hljs-string">&#x27;2px solid springgreen&#x27;</span>,<br/>  <span class="hljs-attr">backgroundColor</span>: <span class="hljs-string">&#x27;moccasin&#x27;</span>,<br/>  <span class="hljs-attr">color</span>: <span class="hljs-string">&#x27;magenta&#x27;</span><br/>};<br/><br/><span class="hljs-keyword">const</span> headline = {<br/>  <span class="hljs-attr">fontFamily</span>: <span class="hljs-string">&#x27;Verdana&#x27;</span>, <span class="hljs-comment">// should live in generic h2 styling, but we&#x27;re cheating for now</span><br/>  <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">&quot;normal&quot;</span>,<br/>  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-string">&quot;5px&quot;</span>,<br/>  <span class="hljs-attr">paddingLeft</span>: <span class="hljs-string">&quot;15px&quot;</span>,<br/>  <span class="hljs-attr">fontStyle</span>: <span class="hljs-string">&quot;italic&quot;</span>,<br/>  <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;14px&#x27;</span><br/>};<br/><br/><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExplanationBox</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<br/>  render() {<br/>    <span class="hljs-keyword">return</span> (<br/>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{box}</span>&gt;</span><br/>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{headline}</span>&gt;</span>{this.props.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>        {this.props.children}<br/>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br/>    );<br/>  }<br/>}</code></pre><p>Elsewhere in our React app we can now do this...</p><pre><code class="hljs language-jsx">&lt;ExplanationBox title=<span class="hljs-string">&quot;Did you know?&quot;</span>&gt;<br/>  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Ozelots hate maccaws!<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span></span><br/>&lt;/ExplanationBox&gt;</code></pre><p>...and we have our reusable, styled component!</p><h3 id="take-4---imported-inline-styles">Take 4 - imported inline styles</h3><p>However, what you just saw was really nothing but a regression to our <code>Take 0</code> attempt, where we put all styles inline. Like an <em>animal</em>.</p><p>But we can improve on this super easily, simply by migrating the styles to a separate file! Imagine the following living in a file named <code>styles.js</code>:</p><pre><code class="hljs language-javascript">export const typography = {<br/>  h2: {<br/>    fontFamily: &#x27;Verdana&#x27;,<br/>    fontSize: &#x27;16px&#x27;<br/>  }<br/>};<br/><br/>export const explanation = {<br/>  box: {<br/>    borderRadius: &quot;15px&quot;,<br/>    padding: &quot;10px&quot;,<br/>    border: &#x27;2px solid springgreen&#x27;,<br/>    backgroundColor: &#x27;moccasin,<br/>    color: &#x27;magenta&#x27;,<br/>  },<br/>  headline: {<br/>    ...typography.h2<br/>    fontWeight: &quot;normal&quot;,<br/>    letterSpacing: &quot;5px&quot;,<br/>    paddingLeft: &quot;15px&quot;,<br/>    fontStyle: &quot;italic&quot;,<br/>    fontSize: &#x27;14px&#x27;<br/>  }<br/>};</code></pre><p>Note the handling of the basic <code>h2</code> styles!</p><p>Our React component now becomes this:</p><pre><code class="hljs language-jsx"><span class="hljs-keyword">import</span> {explanation} <span class="hljs-keyword">from</span> styles;<br/><br/><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ExplanationBox</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<br/>  render() {<br/>    <span class="hljs-keyword">return</span> (<br/>      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{explanation.box}</span>&gt;</span><br/>        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{explanation.headline}</span>&gt;</span>{this.props.title}<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span><br/>        {this.props.children}<br/>      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><br/>    );<br/>  }<br/>}</code></pre><p>We have now sort of reinvented the stylesheet! Except, where before the stylesheet used selectors to fire blindly into the dark...</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/diagrams/cssinjs-selector.svg" alt=""/></p><p>...we now let the components go get exactly the styles they need via <code>import</code>s:</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/diagrams/cssinjs-import.svg" alt=""/></p><p>It might not be immediately obvious, but the flipping of this arrow makes a world of difference!</p><h3 id="finding-the-killer">Finding the killer</h3><p>Remember the first unanswerable question?</p><blockquote><p><em>What styles are applied to this element?</em></p></blockquote><p>In our imported inline style setup, this becomes trivial to answer. I simply follow the thread backwards from the style prop!</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/img/cssinjs-findkiller.gif" alt=""/></p><h3 id="finding-the-victim">Finding the victim</h3><p>Our second unanswerable question was:</p><blockquote><p><em>To which elements are these styles applied?</em></p></blockquote><p>Again, because of the explicit imports, this becomes very easy to answer (if you have a semi-competent editor):</p><p><img src="/static/posts/css-selectors-are-evil-and-js-is-the-solution/img/cssinjs-findvictim.gif" alt=""/></p><h3 id="less-isnt-more">LESS isn&#x27;t more</h3><p>Through moving our style definitions to JS land, the need for CSS preprocessors goes out the window. Remember how we used the <code>...</code> spread operator to mix in the <code>h2</code> styles into our headline rules?</p><pre><code class="hljs language-js">headline: {<br/>  ...typography.h2<br/>  <span class="hljs-attr">fontWeight</span>: <span class="hljs-string">&quot;normal&quot;</span>,<br/>  <span class="hljs-attr">letterSpacing</span>: <span class="hljs-string">&quot;5px&quot;</span>,<br/>  <span class="hljs-attr">paddingLeft</span>: <span class="hljs-string">&quot;15px&quot;</span>,<br/>  <span class="hljs-attr">fontStyle</span>: <span class="hljs-string">&quot;italic&quot;</span>,<br/>  <span class="hljs-attr">fontSize</span>: <span class="hljs-string">&#x27;14px&#x27;</span><br/>}</code></pre><p>That was the equivalent of a LESS/SASS mixin! You&#x27;ll quickly find that the other syntax they give us can be easily replicated with pure JS. For example, having global variables becomes trivial:</p><pre><code class="hljs language-js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> palette = {<br/>  <span class="hljs-attr">softcolor</span>: <span class="hljs-string">&#x27;moccasin&#x27;</span>,<br/>  <span class="hljs-attr">hardcolor</span>: <span class="hljs-string">&#x27;magenta&#x27;</span>,<br/>  <span class="hljs-attr">accentuationcolor</span>: <span class="hljs-string">&#x27;springgreen&#x27;</span><br/>}<br/><br/><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> explanationBlock = {<br/>  <span class="hljs-attr">box</span>: {<br/>    <span class="hljs-attr">borderRadius</span>: <span class="hljs-string">&quot;15px&quot;</span>,<br/>    <span class="hljs-attr">padding</span>: <span class="hljs-string">&quot;10px&quot;</span>,<br/>    <span class="hljs-attr">border</span>: <span class="hljs-string">&#x27;2px solid &#x27;</span> + palette.accentuationcolor,<br/>    <span class="hljs-attr">backgroundColor</span>: palette.softcolor,<br/>    <span class="hljs-attr">color</span>: palette.hardcolor,<br/>  },<br/>  <span class="hljs-comment">// ...truncated</span></code></pre><p>As do implementing helper functions to add vendor prefixes, saturate colours, etc.</p><h3 id="wrapping-up">Wrapping up</h3><p>To recap; by turning the arrows around through using JS and inline styles, almost all opaqueness of regular CSS goes away. Previously difficult tasks such as...</p><ul><li>renaming a CSS class</li><li>identifying and removing dead CSS code</li><li>hitting the correct elements with selectors</li><li>NOT hitting the wrong elements with selectors</li></ul><p>...suddenly become easy or entirely moot.</p><p>While there are still a lot of questions to be answered regarding moving CSS to JS space, there&#x27;s no doubt in my mind that just being able to flip the arrow of responsibility makes it all worth it.</p><p>One of the primary downsides of inline JS styles is that we can&#x27;t use pseudoselectors such as <code>:hover</code> or <code>@media</code>. I hope to show how we can get around that using helper libraries in an upcoming post.</p></div><hr/></div><div id="disqus_thread" style="display:none"></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/posts/css-selectors-are-evil-and-js-is-the-solution","query":{},"buildId":"wQeVqw4-MCmoY2Zy_p65E","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/posts/css-selectors-are-evil-and-js-is-the-solution" src="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/posts/css-selectors-are-evil-and-js-is-the-solution.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/_app.js"></script><script src="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" async=""></script><script src="/_next/static/chunks/commons.ebbfd942159f83091516.js" async=""></script><script src="/_next/static/runtime/main-c1620565ee9f1f33603c.js" async=""></script><script type="text/javascript" async="" src="https://krawaller.disqus.com/embed.js"></script></body></html>