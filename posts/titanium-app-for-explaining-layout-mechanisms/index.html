<!DOCTYPE html><html><head><link rel="stylesheet" type="text/css" href="/static/styles/nprogress.css"/><link rel="stylesheet" href="/static/styles/code.css"/><link rel="stylesheet" href="/static/styles/site.css"/><link href="https://fonts.googleapis.com/css?family=Open+Sans&amp;display=swap" rel="stylesheet"/><link href="https://fonts.googleapis.com/css?family=Lexend+Zetta&amp;display=swap" rel="stylesheet"/><script async="" src="https://www.google-analytics.com/analytics.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
  ga('create', 'UA-11433118-1', 'auto');
  ga("send", "pageview");</script><meta name="viewport" content="width=device-width,minimum-scale=1,initial-scale=1"/><meta charSet="utf-8"/><title>Titanium app for explaining layout mechanisms</title><meta name="next-head-count" content="3"/><link rel="preload" href="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/posts/titanium-app-for-explaining-layout-mechanisms.js" as="script"/><link rel="preload" href="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/_app.js" as="script"/><link rel="preload" href="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" as="script"/><link rel="preload" href="/_next/static/chunks/commons.ebbfd942159f83091516.js" as="script"/><link rel="preload" href="/_next/static/runtime/main-c1620565ee9f1f33603c.js" as="script"/></head><body><div id="__next"><div style="margin-bottom:20px"></div><div class="master"><h1><a href="/"><span>k</span><span>r</span><span>a</span><span>w</span><span>a</span><span>l</span><span>l</span><span>e</span><span>r</span></a></h1><hr/><div class="summary">An experiment to help understand how layout in Titanium works</div><hr/><h2>Titanium app for explaining layout mechanisms</h2><p class="taglist">Tags:<!-- --> <a href="/tags/titanium/">titanium</a></p><div class="page-content"><div class="post" data-postid="tiview"><h3 id="the-problem">The problem</h3><p>During a recent app project, I felt constantly hampered by not having a strong enough ninjutsu understanding of laying out things in a Titanium app. How does horizontal and vertical layout actually work? What’s the difference between a View, a ScrollView and a ScrollableView? When having too much content to show on screen, do I want the parent or child to scroll? What happens when I have a scrolling child in a scrolling parent?</p><p>I constantly had to pause my work to peruse the Titanium docs/kitchensink/sourcecode, or (more often) do some experimenting on the side, regarding stuff that I suspected I really should have nailed down. It felt like doing maths without having memorized the multiplication tables!</p><h3 id="the-tiview-app">The TiView app</h3><p>Eventually the added-up frustration got too great, so I set aside some time for grokking and getting comfortable with the API. This resulted in a small Titanium application we call <strong>TiView</strong>. It has a number of demos, showing on screen what various layout properties will actually result in. Most of it probably already obvious to most of you out there, but I felt it helped me to “say it out loud” in this way.</p><p>As stated the app is very simple. It has a number of demos, ordered into categories. The screenshot below shows the current content, I hope to add some more to it before I move on too far:</p><p><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiviewindex.png" alt="TiView index"/></p><p>Each category then consists of a ScrollableView, where each view is a demo of some layout code. The properties used are displayed inside the laid-out child:</p><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiview1.png" style="width:175px"/><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiview2.png" style="width:175px"/><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiview3.png" style="width:175px"/><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiview4.png" style="width:175px"/><img src="/static/posts/titanium-app-for-explaining-layout-mechanisms/img/tiview5.png" style="width:175px"/><p>The source code is available in the Git repo <a href="http://github.com/krawaller/tiview">here</a>. Have a snoop and see if might be of any help. Or even better, add more demos of your own! It’s just 250 lines in a single file, and all the demos are just object literals sent into a constructor function, so getting your own ideas in there shouldn’t require that strong a shoe-horn:</p><pre><code class="hljs language-javascript">demos = [{<br/>    <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;A parent with the layout property set to vertical uses a vertical layout mechanism instead. Here, a child is placed in relation to the bottom of the previous child.&quot;</span>,<br/>    <span class="hljs-attr">children</span>: [{<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">30</span>},{<span class="hljs-attr">top</span>:<span class="hljs-number">5</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">60</span>}]<br/>},{<br/>    <span class="hljs-attr">iphone</span>: <span class="hljs-string">&quot;Everything works as normal, even negative offsets (not on Android though!) and zIndexes. Except...&quot;</span>,<br/>    <span class="hljs-attr">android</span>: <span class="hljs-string">&quot;Negative top offsets have weird behaviour in a vertical layout on Android. Here, the second child ends up before the first!&quot;</span>,<br/>    <span class="hljs-attr">children</span>: [{<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">30</span>,<span class="hljs-attr">zIndex</span>:<span class="hljs-number">1</span>},{<span class="hljs-attr">top</span>:<span class="hljs-number">-5</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">60</span>}]<br/>},{<br/>    <span class="hljs-attr">iphone</span>: <span class="hljs-string">&quot;...the top and bottom properties are both used as margins (on Android only top!). So the height difference between two siblings is the sum of the bottom of the first and the top of the second.&quot;</span>,<br/>    <span class="hljs-attr">android</span>: <span class="hljs-string">&quot;The height difference between two siblings is controlled by the top property of the second sibling. On iPhone, the bottom prop of the first is added to the difference as well.&quot;</span>,<br/>    <span class="hljs-attr">children</span>: [{<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">bottom</span>:<span class="hljs-number">10</span>},{<span class="hljs-attr">top</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">60</span>}]<br/>},{<br/>    <span class="hljs-attr">description</span>: <span class="hljs-string">&quot;The top property of the first child offsets it in relation to the parent. The bottom property of the last child is simply ignored.&quot;</span>,<br/>    <span class="hljs-attr">children</span>: [{<span class="hljs-attr">top</span>:<span class="hljs-number">5</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">30</span>},{<span class="hljs-attr">top</span>:<span class="hljs-number">10</span>,<span class="hljs-attr">left</span>:<span class="hljs-number">20</span>,<span class="hljs-attr">height</span>:<span class="hljs-number">80</span>,<span class="hljs-attr">width</span>:<span class="hljs-number">100</span>,<span class="hljs-attr">bottom</span>:<span class="hljs-number">500</span>}]<br/>}];</code></pre><h3 id="android-vs-iphone">Android VS iPhone</h3><p>When we ran the app on an Android, it turned out that there where even more difference in behaviour between the platforms that we had originally thought! Therefore we gave the demos platform-specific descriptions.</p><p>This process was hugely informative for us - not only did we gain a better understanding of the layout API:s, but also of the (many) differences between the platforms! Having a good map of these differences will make it much easier to write code that won’t behave differently on the other platform.</p><p>So we encourage you to try out TiView, and hope it will be of use!</p></div><hr/></div><div id="disqus_thread" style="display:none"></div></div></div><script id="__NEXT_DATA__" type="application/json">{"dataManager":"[]","props":{"pageProps":{}},"page":"/posts/titanium-app-for-explaining-layout-mechanisms","query":{},"buildId":"wQeVqw4-MCmoY2Zy_p65E","dynamicBuildId":false,"nextExport":true}</script><script async="" id="__NEXT_PAGE__/posts/titanium-app-for-explaining-layout-mechanisms" src="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/posts/titanium-app-for-explaining-layout-mechanisms.js"></script><script async="" id="__NEXT_PAGE__/_app" src="/_next/static/wQeVqw4-MCmoY2Zy_p65E/pages/_app.js"></script><script src="/_next/static/runtime/webpack-3df6523e264ff2ac6548.js" async=""></script><script src="/_next/static/chunks/commons.ebbfd942159f83091516.js" async=""></script><script src="/_next/static/runtime/main-c1620565ee9f1f33603c.js" async=""></script><script type="text/javascript" async="" src="https://krawaller.disqus.com/embed.js"></script></body></html>